<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>Threadly - Highly performant java concurrency library</title>

    <link rel="stylesheet" href="stylesheets/styles.css">
    <link rel="stylesheet" href="stylesheets/pygment_trac.css">
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="wrapper">
      <header>
        <center><img src="logo/threadly-logo-text.png" width="175" height="213" /></center>
        <p>Tools to assist with safe and performant concurrent java development</p>

        <p class="view"><a href="https://github.com/threadly/threadly">View the Project on GitHub <small>threadly/threadly</small></a></p>


        <!-- <ul>
          <li><a href="https://github.com/threadly/threadly">Download compiled<strong>Jar</strong></a></li>
          <li><a href="https://github.com/threadly/threadly/zipball/master">Download source <strong>ZIP File</strong></a></li>
          <li><a href="https://github.com/threadly/threadly/tarball/master">Download source <strong>TAR Ball</strong></a></li>
        </ul> -->
  <ul>
  <li><a href="javadocs/4.8.0/index.html">Current stable <strong>Javadocs</strong></a></li>
  <li><a href="https://github.com/threadly/threadly/wiki">View <strong>Wiki</strong></a></li>
  <li><a href="https://github.com/threadly/threadly">View On <strong>GitHub</strong></a></li>
  </ul>

  <p><h3>Latest stable binary: <br>
  <a href="https://oss.sonatype.org/content/groups/staging/org/threadly/threadly/4.8.0/threadly-4.8.0.jar">threadly-4.8.0.jar</a></h3></p>

        <p><a href="https://threadly.ci.cloudbees.com/view/Threadly/job/threadly-master/"><img src="https://threadly.ci.cloudbees.com/job/threadly-master/badge/icon"></a></p>
      </header>
      <section>
        <p>A library of java tools to assist with development of concurrent java applications.  This is designed to be a complement to java.util.concurrent and uses 
        java.util.concurrent to help assist in it's implementations where it makes sense.</p>

        <p>These tools provide things ranging from the KeyDistributedExecutor which allows for threading to be controlled, and portions of the application to be written 
        in a single threaded context.  To the unique priority based, high performance, thread pool.  To the ability to create a hierarchy of thready pools (sub pools 
        in threadly named "Limiters").  To the ability to control threading and allow things to easily run single threaded where it makes sense.  This library also 
        includes utilities for making it easier to unit test concurrent applications.  As well as utilities to help debug concurrent designs.</p>

  <p>To get a more complete overview of our features take a look at our <a href="https://github.com/threadly/threadly/wiki/Threadly-Features">features wiki page</a>.</p>
  
  <p><h3>News:</h3>
  <p>* October 6th - Released version 4.8.0.  This release includes a feature expansion as well as number of deprecations leading up to the 5.0.0 release.  Some highlights are adding the ability for rate limiters to specify a maximum allowed delay.  Added `SuppressedStackRuntimeException` which is an exception type which does not generate a stack (for efficency).  The ability for limiters to have other handling besides throwing a `RejectedExecutionException`.  There are additional new features as well as class renames and deprecations, please see the <a href='https://github.com/threadly/threadly/releases/tag/release-4.8.0'>release notes</a> for all the details.</p>
  <p>* September 8th - Released patch version 4.7.2.  This patch includes performance improvements and behavior clarifications in FutureUtils.</p>
  <p>* August 19th - Released version 4.7.0 which includes two new minor features.  Added 'KeyedRateLimiterExecutor', similar to `KeyedExecutorLimiter` in that it applies the limit on a per key base, but with the behavior of a `RateLimiterExecutor`.  We also added `SchedulerExecutorDelegator` which gives the ability to delegate scheduling and executing to two different implementations. A potential example of how this could be useful is when in combination with a `PrioritySchedulerDefaultPriorityWrapper` you could assign different default priorities depending on if a task is scheduled or immediately executed.</p>
  <p>* July 27th - Released patch version 4.6.3.  This does not really include any bug fixes, but rather some minor memory optimizations and the ability to dynamically adjust the rate of limiter pool wrappers.  Because of the feature expansion you could argue this should have been 4.7.0, but the changes were incredibly minor.  I just wanted to release this to a stable version to keep the release cycle consistent.</p>
  <p>* May 18th - Released patch release 4.6.2.  This fixes an old issue introduced in 4.4.0.  The defect was specifically where an idle thread may fail to stop when PriorityScheduler is issued a shutdown or when the pool size is decreased.  It was a very tight race condition, and I don't expect many (if any) to hit it, but none the less it's fixed now!.  Since there was no javadocs changes in this release 4.6.1 is still the current javadoc reference.</p>
  <p>* May 16th - Released API breaking patch release 4.6.1.  This is a special case in that it is a quick spelling correction in the new 'interceptor' functionality that was introduced in 4.6.0.  While we normally would never release an API breaking change till a major version, this is viewed more as a bug fix since it was introduced literally less than 24 hours ago.</p>
  <p>* May 15th - Released version 4.6.0.  This release primarily includes some package and class location changes around our scheduler wrappers.  This will be cleaned up in 5.0.0.  Besides that there were some minor internal code structure and performance improvements.  See the full release notes here: <a href="https://github.com/threadly/threadly/releases/tag/release-4.6.0">https://github.com/threadly/threadly/releases/tag/release-4.6.0</a>. </p>
  <p>* Febuary 22nd - Released version 4.5.0, this included quite a bit of new features.  I encourage you to look at the <a href='https://github.com/threadly/threadly/releases/tag/release-4.5.0'>full release notes</a> for deprecations and bug fixes included in this release.  For new features, the biggest is probably our new "UnfairExecutor".  This executor, while not being fully fair, is extremely fast.  The more cores, the more you have to gain from this executor.  It easily can achieve anywhere from 2x to 15x the performance of java.util.concurrent.ThreadPoolExecutor.  It is ideally suited as a backing thread pool for jetty, or anywhere where execution times are rather consistent, and task distrubitions can be evenly distributed.  The other major feature added in this release is an expansion to what we offer for statistics (new package and new API, the old PrioritySchedulerStatisticTracker has been deprecated and replaced).</p>
  <p>* December 15th - Released a patch fix 4.4.3.  This was not a regression, but rather an old issue where our ScheduledExecutorService wrappers were not following java.util.concurrent conventions when a future was canceled.  Threadly typically does not remove a task on a .cancel() for performance reasons, but instead just makes the task a no-op.  Because these java.util.concurrent pools return a Future on recurring tasks (which threadly does not normally do), we end up having a no-op task that keeps running.  This behavior was corrected, but not new.  I put this in a patch release to keep the changes incremental and small.  The increased patch release count in 4.4.X is not because of added instability, but just a slight shift in not having more major changes on the horizon.</p>
  <p>* December 10th - Released a patch fix 4.4.2.  The defect was specifically around the PrioritySchedulerStatistic tracker, and was a regression in 4.4.0.  Because of the relatively low impact I was going to wait till 4.5.0, but it seemed trivial enough to just go ahead and release.  I bundled with this a very small feature for the PriorityScheduler to include "awaitTermination" functionality.  It was trivial enough it did not seem worth waiting till 4.5.0 as well.</p>
  <p>* December 7th - Released a patch fix 4.4.1.  This fixes a small regression from 4.4.0 around scheduled tasks.  Under very specific conditions a scheduled task may be delayed longer than necessary for execution.  For more details I invite you to read the release change log here: <a href='https://github.com/threadly/threadly/releases/tag/release-4.4.1'>https://github.com/threadly/threadly/releases/tag/release-4.4.1</a></p>
  <p>* November 9th - Version 4.4.0 is out, and this has been a LONG time coming.  This release includes possibly the most significant performance improvements in PriorityScheduler possibly ever.  It has some significant thread safety complexities, and that is why it has been in development for about 6 months now.  We are slowly working on finding a way of publishing our benchmark results (though they can be run manually on your own hardware using the BenchmarkCollectionRunner in the <a href="https://github.com/threadly/threadly_benchmarks">threadly_benchmarks</a> project.  Till then you will have to just take my word that we are dramatically beating java.util in performance.  While that is the only major change, there have been some minor feature improvements as well.  Check releases on github for more information.</p>
  <p>* September 16th - Released version 4.3.0 of threadly.  This release includes many new features, and sadly some deprecations as we look forward to 5.0.0 (which is still a ways out).  Check the <a href='https://github.com/threadly/threadly/releases/tag/release-4.3.0'>changelog</a> for all the details, but here are some highlights.</p>
  <p>Added a third task priority "Starvable" which is for tasks that will only run when the pool has available resources and _nothing_ else wants to run.  Because of that these tasks can be starved.</p>
  <p>NoThreadScheduler, SingleThreadScheduler and TestableScheduler now all handle the concept of priority.  Meaning all root thread pools threadly provides are now priority pools.  This only became possible after 4.0.0 when our concept of priority changed.</p>
  <p>Added several styles of "InvocationTee" which allows an easy multiplexing of invocations.  This can be particularly useful when system changes are in progress and for a period of time multiple actions need to occur as systems are migrated.</p>
  <p>Our interface schema has changed, dropping "Interface" as the suffix of all of our interfaces.  In addition added a couple new limiter types, and a new generic way for threads to be named.</p>
  <p>* August 5th - Released version 4.2.0 today.  This version includes minor performance improvements to the PriorityScheduler and NoThreadScheduler.  There is also an expansion of the functionality in StringUtils.  The improvements in the PriorityScheduler are really quite cool.  It allowed me to remove an internal class, "ClockWrapper", which was used internally to deal with system clock advancements that may occur while trying to find the queue point for scheduled tasks.  While this problem is rarely noticed (which is probably why java.util.concurrent's pools just ignore it), it is one that threadly guarantees behavior around.  Previously ClockWrapper allowed us to control the clock advances in a thread local way to ensure that when we were finding the delays of items it was all against the same time value.  What I realized is that the interface of java.util.concurrent.Delayed forced you into a rather bad behavior to begin with (checking the system clock to find when to run).  So instead we now use absolute times when ever we compare two tasks to find the insertion point.  We only ask for the time delay to see if a task is ready to run (or how long to wait till it is ready).  This requires less system clock calls (which have to go to the kernel), less math, and we can still provide the stronger guarantees we always have.  This change also reduced the total size of the jar (and lines), despite the real size and improvements wont happen till 5.0.0 when the interfaces of ListUtils will change to be more generic, and less focused on Delayed.  I wanted to describe a bit more of the details behind this change because I feel like it's a perfect example of why Threadly continues to try and provide unique value, and give more than java.util.concurrent tries to provide.  It also shows how we are continuing to evolve, and improve the library.</p>
  <p>* July 6th - Released patch version 4.1.1.  This contains some minor improvements, primarily around some bug fixes in the RateLimiterExecutor.</p>
  <p>* June 5th - This release contains some new features and some bug fixes.  All the bugs fixed were in new features in 4.0.0, and not regressions of previous features (which is why I did not rush a 4.0.2 release).  Please check the <a href="https://github.com/threadly/threadly/releases">changelog</a> for a complete list of improvements and fixes.</p>
  <p>* May 20th - I am sorry to inform despite all our testing we introduced a regression last night in our SettableListenableFuture.  That is now fixed and released as version 4.0.1.</p>
  <p>* May 19th - A major release!  Today I released threadly 4.0.0.  This release has been a very long time coming.  I started focusing hard on 4.0.0 a bit over 2 months ago, and wanted to make sure this was a really good release.  This includes the normal cleanup we have on major releases.  But it also includes a significant feature expansion.  It includes some really important behavior changes around the PriorityScheduler.  There is to much to describe here, I <b>HIGHLY</b> recommend you to read the <a href="https://github.com/threadly/threadly/releases">releases page on github</a>.</p>
  <p>* May 3rd - Released version 3.8.0.  I am mostly focused on 4.0.0 still, this release includes one more API depreciation which will occur with the 4.0.0 release (AbstractService moving to org.threadly.util).  There is one decent improvement in the Profiler for profiling at a high frequency when there is more than 4 or 5 threads in the JVM.</p>
  <p>* April 7th - I am focused on getting the 4.0.0 release ready.  I am now excited for this release because I think it provides much better logic in the PriorityScheduler around low vs high priority tasks.  Becuase of that today we are releasing version 3.7.0, this version has no functional changes but just indicates a few things in the PrioritySchedulerStatisticTracker that will no longer be supported in 4.0.</p>
  <p>* March 27th - Released version 3.6.0 which only includes API changes in the PriorityScheduler/PrioritySchedulerStatisticTracker.  I have been convinced that having a automatically sized thread pool does not make sense for this library (at least without provided stricter goals).  So this includes API changes so that a transition to 4.X will be easier.  In 4.X we will still allow you to change the pool size manually while running, but the pool will no longer have a concept of a core/max size, and instead will use set sizes (which again can be adjusted at runtime).  I am now convinced that dynamically sized pools are more likely to cause more harm than good, and if we were to create a dynamically sized pool it would need to be smarter and more application specific (feel free to post your ideas as github issues).</p>
  <p>* March 17th - Released version 3.5.0 of threadly.  This is our 30th released version, and with it we crossed the 1000 commit mark!  It's been a long road for this project, and I plan to keep it going.  This release offers some minor inclusions of new features (like SchedulingUtils for calculating the initial delay to an absolute time, or a given hour offset), as well as some bug fixes (like fixing issues where threads can be leaked if the thread pool is allowed to be garbage collected).  Unfortunately these changes increased the jar size from 208KB to around 216KB.  I have always wanted to keep this library small but as features have been added it has been growing.  Luckily you don't HAVE to use all the features, and the implementation for any given feature has always been kept lite and fast.</p>
  <p>* Febuary 6th - Released bug fix version 3.4.1.  The two bugs fixed were not recent regressions, but were trivial to fix, and release.  Check the releases page on github for more information.  The javadocs were not updated due to having no API changes, you can use the 3.4.0 javadocs for version 3.4.1.</p>
  <p>* January 29th - Release of version 3.4.0, this is a MAJOR release for threadly.  The reason this release has taken so long to get out is because it had higher risk associated with it.  This release includes almost a complete redo of how jobs are queued inside of PriorityScheduler.  This results in a 5 to 15% performance improvement (closer to 15% for simple executions, 5% for scheduled and recurring tasks).  The only new/added feature is the addition of "TesablePriorityScheduler" to assist in testing code which needs an implementation of the PrioritySchedulerInterface.  I encourage you to look at the change log for more detailed information, particularly around the deprecations of DynamicDelayQueue, DynamicDelayedUpdater, and ConsumerIterator.  I also removed the hosting of javadocs for version 0.8 and 0.9.  Both versions are over a year old now, but the javadocs can still be found on the <a href="https://github.com/threadly/threadly/releases">releases page on github</a>.</p>
  <p>* November 21st - One of the more significant releases in a while.  Version 3.3.0 has something for everyone, performance improvements in the NoThreadScheduler and SingleThreadScheduler (hopefully in the future we can take the lessons learned here to improve the PriorityScheduler further), minor bug fixes around ExceptionUtils.makeRuntime, and the PrioritySchedulerStatisticTracker.  But probably most interesting is some facilities to help with a completely new idea on how to do work asynchronously.  Instead of having to submit everything to a scheduler, and require the overhead of releasing the thread, and then getting it again for another task.  In some cases it can be much more efficient to chain the tasks together using the ListenableFuture design.  This is facilitated by a couple new classes "ChainedRunnableListenableFuture" (which can ensure that in a thread safe way the task is executed on the scheduler, even if the future completes before time of adding the listener), and "ClearOnGetSettableListenableFuture" (which can prevent the waste of holding on to large results, when they are no longer needed).</p>
  <p>* November 4th - A patch release of 3.2.1 was released today.  This fixes some small issues (none of which were recent regressions).  Primarily around not getting low priority tasks returned from PriorityScheduler.shutdownNow().</p>
  <p>* October 28th - A minor release of version 3.2.0 today.  This includes some small changes, but worthy enough to get them out sooner than later.  These changes are primarily around the NoThreadScheduler, and being able to control how Exceptions are thrown from tasks inside it.  It also has some minor code cleanup, and better usage of Exceptions within the schedulers.</p>
  <p>* October 21st - Released version 3.1.0.  This has a nice expansion in features offering scheduleAtFixedRate (as a complement to scheduleWithFixedDelay).  It also includes some bug fixes, as well as new functionality to the Clock class to handle conditions where the system clock has changed.  Look at the releases page on github for more details: <a href="https://github.com/threadly/threadly/releases">https://github.com/threadly/threadly/releases</a>.</p>
  <p>* September 22nd - Just a few days after our 2.6.0 release, we now have 3.0.0 available.  The only changes in this release are the removals of deprecations which occurred in the 2.X version tree.</p>
  <p>* September 19th - Released version 2.6.0 today, and 3.0.0 is right around the corner.  The most important change in this release is our change in license.  With the support of all contributing developers we were able to switch to the less restrictive <a href="https://www.mozilla.org/MPL/2.0/">Mozilla Public License 2.0</a>.  The main motivation is in how our previous license prevented static linking (making it difficult to use in VM's like avian, or possibly as fat jars).  That was never the developers intention, we want anyone (proprietary or not) to be able to use threadly.  Our motivation in having a license is only that we want to encourage changes/updates/improvements to the library to be given back to the community.  This release is another huge step forward for this project.  It includes user improvements by dramatically better javadocs (better linking, formating, and some description clarifications).  As always read the <a href="https://github.com/threadly/threadly/releases">changelog</a> for all the details.</p>
  <p>* August 18th - Released version 2.5.0 today.  This includes minor changes that I wanted to get released and available for others to use (as we are not quite ready for the 3.0.0 release yet).  Please see the <a href="h://github.com/threadly/threadly/releases">changelog</a> for details on the bug fixes and deprecations.</p>
  <p>* August 5th - Version 2.4.0 has been released as the current stable version.  This version has modest changes, but we are continuing to try to release frequently when we have a stable branch.  These changes are focused around other ways to handle error handling within threadly (No longer forcing you to use the UncaughtExceptionHandler, ExceptionUtils now offers several ways to handle asynchronous exceptions).  The other change is a new Future type which can start execution on .get() request if execution has not already begun.  This can be useful for tasks which need a result ASAP (and allows better thread usage as a thread no longer will be just blocked waiting on the .get() call).  There are other small changes, which you should check the <a href="https://github.com/threadly/threadly/releases">changelog</a> for details on.</p>
  <p>* July 21st - Released version 2.3.0.  It's obviously only been about 2 weeks since the last release.  I know we frequently have been on a one month cadence, but that was really just by chance.  In general I just want to release once the build is ready and stable.  If we can keep the releases small, low risk, and semi-frequent, that's even better.  This release has a few very small defect fixes (arguments in constructors accidentally being ignored in PrioritySchedulerStatisticTracker and TaskSchedulerDistributor).  As well as a single deprecation to fix the spelling error in renaming ThrowableSurpressingRunnable to the correctly spelled ThrowableSuppressingRunnable.  The most major change is the build system.  The gradle wrapper is now included so that gradle does not need to be separately installed, and we have updated the build scripts to gradle 2.0.  All in all, steady progression in the project.</p>
  <p>* July 8th - Released version 2.2.0.  In this version we made improvements to our utilities for dealing with event driven, callback/listener based designs.  We ended up moving/renaming ListenerHelper to the new "event" package (the old one will still exist till 3.0.0).  Since we were already deprecating stuff for the event driven improvements, we decided to go ahead and rename the PriorityScheduledExecutor into the shorter named PriorityScheduler.  Again, it will continue to exist under the old name until the 3.0.0 release.  As always, please check the <a href="https://github.com/threadly/threadly/releases">changelog</a> for a complete and detailed list for changes/improvements.</p>
  <p>* June 9th - Released version 2.1.0, this follows the patch release of 2.0.1.  We released version 2.0.1 to fix a bug found in NoThreadScheduler and SingleThreadScheduler where recurring tasks may be executed ahead of .execute or .submit tasks submitted while the task was running.  2.1.0 is mostly more bug fixes.  It does include some new features, most prominently is the improved shutdown logic around SingleThreadScheduler, which now has the ability to "shutdownNow".  In addition we improved some platform specific string formatting for the "Profiler", "DebugLogger" and "ExceptionUtils".  We want to continue to release frequently (once we know the code is stable and safe enough to do so), so I invite you to look at <a href="https://github.com/threadly/threadly/releases">changelog</a> for more details.</p>
  <p>* May 27th - Major release of version 2.0.0 today!  This was not very long since our 1.3.0 release, but that is mostly because 2.0.0 had been in development in parallel for a couple months now.  This is a notable milestone for threadly.  We cleaned up our API quite a bit, and this includes some major advancements to maintainability for the code base going forward (particularly around unit tests).  There are not a ton of new features, but the biggest is the inclusion of the "SingleThreadScheduler".  Which is much lighter weight and faster than the PriortiyScheduledExecutor (but obviously can only work in a single threaded manner).  I recommend anyone checks the change log to see what api for the library has been removed, and how to update your projects (though you should already have an idea if your running 1.3.0 which has all removed API's marked as deprecated).</p>
  <p>* May 12th - Released version 1.3.0, which includes minor changes to the threadly project.  These are just a couple small changes that were easy to include in the 1.0.0 series of releases.  This will likely be the last 1.0.0 series of releases before 2.0.0, the only exception would be if any bugs are found.  There are no significant bug fixes or feature improvements in this release, as new features and improvements have been focused on the 2.0.0 release.</p>
  <p>* April 14th - Released version 1.2.0.  This includes some nice performance improvements around the TaskExecutorDistributor and the TaskSchedulerDistributor.  This also includes an expansion around our utilities around Future's/ListenableFuture's.  Otherwise this release is primarily doing some cleanup and starting to think about what we want to accomplish in our 2.0.0 release.  Some things have started migrating to some new api's.  We will probably start publishing a 2.0.0 artifact in the next couple of weeks.</p>
  <p>* March 19th - Released version 1.1.0, which includes a small expansion of the feature set.  This includes new tools like ListenableFutureResult, and ListenerHelper (which is a great tool for handling callbacks).  It also has some code and performance improvements around the thread pool limiters (aka sub pools).  Please look at the <a href="https://github.com/threadly/threadly/releases">changelog</a> for more details.</p>
  <p>* February 10th - Released version 1.0.0 of threadly.  This release is very exciting to me as it indicates a new level for the project.  A new level of stability and maturity, a new level of control and openness.  As in my previous post you will note that we removed and changed a lot more than we originally expected to.  I felt this was important because with the 1.0.0 release a lot of changes are occurring.  A stricter versioning is part of this, allowing people to easily know what level of risk and change is included in every version (as described <a href="https://github.com/threadly/threadly/wiki/Version-Guide">here on the wiki</a>).  We also plan to provide more visibility through pull requests, and filed issues into what exactly has changed (though the change log has always been very complete).  We had lots of things in the 0.9 release we decided to remove for 1.0.0 because we felt that they added a lot of complexity, and code, when their value was minimal at best.  Because it will be harder to remove those things in the future we decided now is the time to do it.  So they have been removed, but can be easily added back if others find any of those features useful (they were removed because no one was using them and we saw minimal reason someone would start using them).  Please look at the <a href="https://github.com/threadly/threadly/releases">changelog</a> for a more complete list of what has changed.</p>
  </p>

  <br><br>

    <p align="center">
      <script type="text/javascript" src="http://www.openhub.net/p/641501/widgets/project_basic_stats.js"></script>
    </p>
    </section>
    <footer>
      <p>This project is maintained by <a href="https://github.com/jentfoo">jentfoo</a></p>
      <p><img src="http://www.cloudbees.com/sites/default/files/Button-Powered-by-CB.png"></p>
    </footer>
  </div>
  <script src="javascripts/scale.fix.js"></script>
    
  </body>
</html>
